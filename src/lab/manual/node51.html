<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71) -->
<HTML>
<HEAD>
<TITLE>Implementing PID Controller with Filtering using Backward Difference Approximation</TITLE>
<META NAME="description" CONTENT="Implementing PID Controller with Filtering using Backward Difference Approximation">
<META NAME="keywords" CONTENT="sbhs-new-manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sbhs-new-manual.css">

<LINK REL="previous" HREF="node48.html">
<LINK REL="up" HREF="node28.html">
<LINK REL="next" HREF="node52.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html846"
  HREF="node52.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/local/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html844"
  HREF="node28.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/local/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html840"
  HREF="node50.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/local/share/lib/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html847"
  HREF="node52.html">Implementing locally</A>
<B> Up:</B> <A NAME="tex2html845"
  HREF="node28.html">Controlling Single Board Heater</A>
<B> Previous:</B> <A NAME="tex2html841"
  HREF="node50.html">Implementing virtually</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00570000000000000000">
Implementing PID Controller with Filtering using Backward Difference Approximation</A>
</H1>
Figure <A HREF="#pid_filter_xcos">5.12</A> shows Xcos diagram for implementing PID controller with filtering.

<DIV ALIGN="CENTER"><A NAME="pid_filter_xcos"></A><A NAME="1925"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.12:</STRONG>
Xcos for PID controller with filtering available as <TT>pidN_virtual.xcos</TT></CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">
<IMG
  WIDTH="779" HEIGHT="501" ALIGN="BOTTOM" BORDER="0"
 SRC="./pidN_virtual_xcos.png"
 ALT="Image pidN_virtual_xcos">

</DIV></TD></TR>
</TABLE>
</DIV>
PID filtered form is given by
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><TABLE CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="33" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img165.png"
 ALT="$\displaystyle u(t)$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="223" HEIGHT="64" ALIGN="MIDDLE" BORDER="0"
 SRC="img209.png"
 ALT="$\displaystyle =K\left\{1+\frac 1{\tau_i s}+\frac{\tau_d s}{1+\frac{\tau_d s}{N}}\right\}e(t)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
<A NAME="lt6">(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">55</SPAN>)</A></TD></TR>
<TR>
<TD COLSPAN=3 ALIGN="LEFT">
<BR>
where N is large number of the order of 100.
By maping controller given in equation <A HREF="#lt6">5.55</A> to the discrete 
time domain using backward difference formula, we get<P>
<BR></TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="37" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img168.png"
 ALT="$\displaystyle u(n)$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="307" HEIGHT="75" ALIGN="MIDDLE" BORDER="0"
 SRC="img210.png"
 ALT="$\displaystyle =K\left(1+\frac{T_s}{\tau_i}\frac{1}{1-z^{-1}}+\frac{\tau_d (1-z^{-1})}{1+\frac{\tau_d(1-z^{-1})}{N}}\right)e(n)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">56</SPAN>)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="37" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img168.png"
 ALT="$\displaystyle u(n)$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="316" HEIGHT="65" ALIGN="MIDDLE" BORDER="0"
 SRC="img211.png"
 ALT="$\displaystyle =K\left(1+\frac{T_s}{\tau_i}\frac{1}{1-z^{-1}}+\frac{Nr_1(1-z^{-1})}{1+r_1z^{-1}}\right)e(n)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">57</SPAN>)</TD></TR>
<TR>
<TD COLSPAN=3 ALIGN="LEFT">
<BR>
where<P>
<BR></TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="19" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img212.png"
 ALT="$\displaystyle r_1$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="92" HEIGHT="67" ALIGN="MIDDLE" BORDER="0"
 SRC="img213.png"
 ALT="$\displaystyle =-\frac{\frac{\tau_d}{N}}{\frac{\tau_d}{N}+T_s}$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">58</SPAN>)</TD></TR>
<TR>
<TD COLSPAN=3 ALIGN="LEFT">
<BR>
On cross multiplying, we obtain<P>
<BR></TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="182" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="img214.png"
 ALT="$\displaystyle (1-z^{-1})(1+r_1 z^{-1})u(n)$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="189" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="img215.png"
 ALT="$\displaystyle =K[(1-z^{-1})(1+r_1 z^{-1})$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
&nbsp;&nbsp;&nbsp;</TD></TR>
<TR VALIGN="MIDDLE">
<TD>&nbsp;</TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="271" HEIGHT="59" ALIGN="MIDDLE" BORDER="0"
 SRC="img216.png"
 ALT="$\displaystyle +\frac{T_s}{\tau_i}(1+r_1z^{-1})+\frac{\tau_d}{T_s}(1-z^{-1})^2]e(n)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">59</SPAN>)</TD></TR>
<TR>
<TD COLSPAN=3 ALIGN="LEFT">
<BR>
Simplifying and then by using shifting theorem, we obtain<P>
<BR></TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="140" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img217.png"
 ALT="$\displaystyle u(n)+(r_1-1)u(n$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="33" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img218.png"
 ALT="$\displaystyle -1)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
&nbsp;&nbsp;&nbsp;</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="57" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img219.png"
 ALT="$\displaystyle -r_1u(n$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="222" HEIGHT="64" ALIGN="MIDDLE" BORDER="0"
 SRC="img220.png"
 ALT="$\displaystyle -2)=K\left[1+\frac{T_s}{\tau_i}-Nr_1\right]e(n)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
&nbsp;&nbsp;&nbsp;</TD></TR>
<TR VALIGN="MIDDLE">
<TD>&nbsp;</TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="266" HEIGHT="64" ALIGN="MIDDLE" BORDER="0"
 SRC="img221.png"
 ALT="$\displaystyle +K\left[r_1(1+\frac{T_s}{\tau_i}+2N)-1\right]e(n-1)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
&nbsp;&nbsp;&nbsp;</TD></TR>
<TR VALIGN="MIDDLE">
<TD>&nbsp;</TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="183" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img222.png"
 ALT="$\displaystyle -K\left[r_1(1+N)\right]e(n-2)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">60</SPAN>)</TD></TR>
<TR>
<TD COLSPAN=3 ALIGN="LEFT">
<BR>
Hence<P>
<BR></TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="37" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img168.png"
 ALT="$\displaystyle u(n)$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="239" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img223.png"
 ALT="$\displaystyle =r_1u(n-2)-(r_1-1)u(n-1)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
&nbsp;&nbsp;&nbsp;</TD></TR>
<TR VALIGN="MIDDLE">
<TD>&nbsp;</TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="257" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img224.png"
 ALT="$\displaystyle +s_0 e(n)+s_1e(n-1)+s_2e(n-2)$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">61</SPAN>)</TD></TR>
<TR>
<TD COLSPAN=3 ALIGN="LEFT">
<BR>
where<P>
<BR></TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img176.png"
 ALT="$\displaystyle s_0$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="155" HEIGHT="64" ALIGN="MIDDLE" BORDER="0"
 SRC="img225.png"
 ALT="$\displaystyle =K\left[1+\frac{T_s}{\tau_i}-Nr_1\right]$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">62</SPAN>)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img178.png"
 ALT="$\displaystyle s_1$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="207" HEIGHT="64" ALIGN="MIDDLE" BORDER="0"
 SRC="img226.png"
 ALT="$\displaystyle =K\left[r_1(1+\frac{T_s}{\tau_i}+2N)-1\right]$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">63</SPAN>)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><SPAN CLASS="MATH"><IMG
 WIDTH="20" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img201.png"
 ALT="$\displaystyle s_2$"></SPAN></TD>
<TD NOWRAP ALIGN="LEFT"><SPAN CLASS="MATH"><IMG
 WIDTH="137" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img227.png"
 ALT="$\displaystyle =-K\left[r_1(1+N)\right]$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">5</SPAN>.<SPAN CLASS="arabic">64</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html848"
  HREF="node52.html">Implementing locally</A>
<LI><A NAME="tex2html849"
  HREF="node53.html">Implementing virtually</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html846"
  HREF="node52.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/local/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html844"
  HREF="node28.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/local/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html840"
  HREF="node50.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/local/share/lib/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html847"
  HREF="node52.html">Implementing locally</A>
<B> Up:</B> <A NAME="tex2html845"
  HREF="node28.html">Controlling Single Board Heater</A>
<B> Previous:</B> <A NAME="tex2html841"
  HREF="node50.html">Implementing virtually</A></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
rokade
2017-04-23
</ADDRESS>
</BODY>
</HTML>
